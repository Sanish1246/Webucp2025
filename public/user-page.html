<!DOCTYPE html>
<html lang="en" class="theme-dramatic">
  <head>
    <meta charset="UTF-8" />
    <title>Exit Stage Left – TheEnd.page</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script type="module" src="JS/user-page.js"></script>
    <script type="module" src="JS/search-button.js"></script>
    <style>
      .fade-in {
        animation: fadeIn 1.2s ease-in forwards;
      }

      .slide-up {
        animation: slideUp 1s ease-out forwards;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      @keyframes slideUp {
        from {
          transform: translateY(20px);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      /* ========== DRAMATIC BLOOD THEME ========== */

      .theme-dramatic .dynamic-bg {
        background: linear-gradient(to bottom right, #000000, #1a1a1a, #330000);
        color: #f2f2f2;
      }

      .theme-dramatic .dynamic-font {
        font-family: Arial, Helvetica, sans-serif;
      }

      .theme-dramatic .dynamic-font-color {
        color: #f2f2f2;
      }

      .theme-dramatic .dynamic-navbar {
        background-color: rgba(26, 26, 26, 0.6);
        border-bottom: 1px solid #7a0f0f;
        backdrop-filter: blur(10px);
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.6);
      }

      .theme-dramatic .dynamic-card {
        background-color: rgba(26, 26, 26, 0.8);
        color: #f2f2f2;
        border: 1px solid #7a0f0f;
        box-shadow: 0 4px 16px rgba(0, 0, 0, 0.6);
      }

      .theme-dramatic .dynamic-label,
      .theme-dramatic .dynamic-subtext {
        color: #e0d7d7;
      }

      .theme-dramatic .dynamic-badge {
        background-color: rgba(122, 15, 15, 0.4);
        color: #f2f2f2;
        border: 1px solid #e11d48;
        border-radius: 999px;
        padding: 0.25rem 0.75rem;
      }

      .theme-dramatic .dynamic-media {
        border: 1px solid #7a0f0f;
        border-radius: 0.5rem;
        overflow: hidden;
      }

      .theme-dramatic .dynamic-footer {
        background-color: rgba(17, 17, 17, 0.7);
        color: #bbb;
        border-top: 1px solid rgba(122, 15, 15, 0.5);
      }

      .theme-dramatic .dynamic-icon:hover {
        color: #ff1a1a;
      }

      /* Add dramatic flair to text elements */
      .theme-dramatic .dynamic-text-accent {
        color: #f43f5e;
        font-style: italic;
        font-weight: bold;
      }

      /* Dramatic fade-in and slide-up animations */
      .theme-dramatic .fade-in {
        animation: fadeIn 1.2s ease-in forwards;
      }

      .theme-dramatic .slide-up {
        animation: slideUp 1s ease-out forwards;
      }

      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      @keyframes slideUp {
        from { transform: translateY(20px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
      }

      /* Blood Drip Animation */
      .theme-dramatic .blood-drip-container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 0;
        pointer-events: none;
        z-index: 50;
      }

      .theme-dramatic .drip {
        position: absolute;
        width: 6px;
        height: 20px;
        background: #7a0f0f;
        border-radius: 50%;
        top: 0;
        animation: drip 2.5s infinite ease-in-out;
        z-index: 50;
      }

      .theme-dramatic .drip:nth-child(1) { left: 20%; animation-delay: 0s; }
      .theme-dramatic .drip:nth-child(2) { left: 40%; animation-delay: 0.8s; }
      .theme-dramatic .drip:nth-child(3) { left: 60%; animation-delay: 1.5s; }
      .theme-dramatic .drip:nth-child(4) { left: 80%; animation-delay: 2.2s; }

      @keyframes drip {
        0% { transform: translateY(0); opacity: 0; }
        10% { opacity: 1; }
        80% { transform: translateY(20px); opacity: 0.8; }
        100% { transform: translateY(60px); opacity: 0; }
      }

      .blood-drip-container {
        display: none;
      }

      .theme-dramatic .blood-drip-container {
        display: block;
      }

      /* ========== Honest Theme Styles ========== */
      .theme-honest .dynamic-bg {
        background-color: #FFF9E5; /* Matches the body background */
      }

      .theme-honest .dynamic-font-color {
        color: #2C2C2C; /* Primary text color */
      }

      .theme-honest .dynamic-font {
        font-family: "Inter", sans-serif; /* Matches HTML font */
      }

      .theme-honest .dynamic-navbar {
        background-color: rgba(255, 255, 255, 0.8);
        border-bottom: 1px solid #DDD;
        backdrop-filter: blur(8px);
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);
      }

      .theme-honest .dynamic-card {
        background-color: #FFFFFF;
        color: #2C2C2C;
        border: 1px solid #E0DAD2;
        border-radius: 0.75rem;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.04);
      }

      .theme-honest .dynamic-label {
        color: #457B9D; /* Soft blue for section headers */
        font-weight: 600;
      }

      .theme-honest .dynamic-subtext {
        color: #6BAEDC; /* Accent subtext used under username */
        font-style: italic;
      }

      .theme-honest .dynamic-badge {
        background-color: #FFFAE3; /* Light yellow badge bg */
        border: 1px solid #FFCD4B;  /* Golden yellow border */
        color: #B78600;             /* Warm yellow text */
        padding: 2px 8px;
        border-radius: 9999px;
        font-size: 0.75rem;
      }

      .theme-honest .dynamic-media {
        border: 1px solid #DDD;
        border-radius: 0.375rem;
        overflow: hidden;
      }

      .theme-honest .dynamic-footer {
        background-color: #EDF3F8;
        color: #457B9D;
        border-top: 1px solid #C3DFF0;
        font-size: 0.875rem;
        text-align: center;
        padding: 1rem;
      }

      .theme-honest .dynamic-icon:hover {
        color: #FFCD4B; /* Icon hover effect consistent with HTML */
        transition: color 0.2s ease;
      }

      .theme-honest .dynamic-audio {
        display: none; /* Audio is autoplay + hidden */
      }

      /* ========== Irony Theme Styles ========== */
      .theme-ironic .dynamic-bg {
        background-color: #FCE7EF; /* Soft pink background */
      }

      .theme-ironic .dynamic-font-color {
        color: #4B0000; /* Dark wine red – serious yet dramatic */
      }

      .theme-ironic .dynamic-font {
        font-family: 'Cinzel', serif;
        font-weight: 400;
      }

      .theme-ironic .dynamic-navbar {
        background-color: rgba(249, 213, 217, 0.8); /* pink-200/80 */
        border-bottom: 1px solid rgba(249, 168, 212, 0.6); /* pink-300/60 */
        backdrop-filter: blur(6px);
        border-radius: 0 0 1rem 1rem;
        box-shadow: 0 4px 8px rgba(255, 0, 100, 0.1);
      }

      .theme-ironic .dynamic-card {
        background-color: white;
        color: #4B0000;
        border: 2px dashed #F9A8D4;
        border-radius: 0.75rem;
        box-shadow: 0 4px 12px rgba(255, 100, 150, 0.1);
        font-style: italic;
      }

      .theme-ironic .dynamic-label {
        color: #DC2626; /* Bold red accent */
        font-weight: bold;
        font-style: italic;
      }

      .theme-ironic .dynamic-subtext {
        color: #6B7280; /* gray-600 */
        font-style: italic;
        font-weight: bold;
      }

      .theme-ironic .dynamic-badge {
        background-color: #FCE7EF;
        border: 1px solid #F9A8D4;
        color: #9B1C36; /* Deep pink/red */
        padding: 2px 10px;
        font-size: 0.75rem;
        font-family: 'Courier New', monospace;
        border-radius: 9999px;
      }

      .theme-ironic .dynamic-media {
        border: 2px dashed #F9A8D4;
        border-radius: 0.5rem;
        overflow: hidden;
      }

      .theme-ironic .dynamic-footer {
        background-color: rgba(249, 213, 217, 0.8); /* pink-200/80 */
        color: #DC2626;
        border-top: 1px solid #F9A8D4;
        font-style: normal;
        font-size: 0.875rem;
        text-align: center;
        padding: 1rem;
      }

      .theme-ironic .dynamic-icon:hover {
        color: #F87171; /* Lighter pink-red hover */
        transition: color 0.2s ease-in-out;
      }

      .theme-ironic .dynamic-audio {
        display: none;
      }
      
    </style>
  </head>

  <body
    class="min-h-screen text-[#2D2B22] flex flex-col fade-in dynamic-bg dynamic-font-color dynamic-font"
  >
    <!-- Navbar -->
    <nav
      class="glass fixed top-0 left-0 right-0 z-10 py-6 px-8 flex justify-between items-center shadow-lg rounded-b-xl mx-auto max-w-7xl mt-2 slide-up dynamic-navbar"
    >
      <div class="text-2xl tracking-wide dynamic-font">TheEnd.page</div>
      <ul class="flex space-x-6 text-lg items-center">
        <li>
          <a href="/public/home.html" title="Home"
            ><i data-feather="home" class="dynamic-icon"></i
          ></a>
        </li>
        <li>
          <button
            id="openSearchModal"
            class="hover:text-[#747D86] dark:hover:text-[#cfc6bc] transition"
            title="Search"
          >
            <i data-feather="search" class="float-icon"></i>
          </button>
        </li>
        <li>
          <a href="/public/account.html" title="Account"
            ><i data-feather="user" class="dynamic-icon"></i
          ></a>
        </li>
        <li>
          <a href="/logout.html" title="Log Out"
            ><i data-feather="log-out" class="dynamic-icon"></i
          ></a>
        </li>
      </ul>
    </nav>

    <div class="blood-drip-container theme-dramatic">
      <div class="drip"></div>
      <div class="drip"></div>
      <div class="drip"></div>
      <div class="drip"></div>
    </div>

    <!-- Main Content -->
    <main
      class="pt-36 px-4 pb-8 max-w-3xl mx-auto w-full space-y-6 slide-up flex-grow"
    >
      <!-- Theme Metadata -->
      <section
        class="p-4 rounded-xl shadow-md text-sm grid grid-cols-2 sm:grid-cols-4 gap-4 dynamic-card"
      >
        <div>
          <p class="font-semibold dynamic-label">Font</p>
          <p class="dynamic-font font-type">Arial</p>
        </div>
        <div>
          <p class="font-semibold dynamic-label">Color Tone</p>
          <div
            class="mt-1 w-6 h-6 rounded-full border border-[#B29B7B] shadow-inner bg-[#ECE2D0] color-type"
          ></div>
        </div>
        <div>
          <p class="font-semibold dynamic-label">Audio</p>
          <p class="dynamic-font audio-type">Sad Violin 🎻</p>
        </div>
        <div>
          <p class="font-semibold dynamic-label">Theme</p>
          <p class="dynamic-font theme-type">Dramatic</p>
        </div>
      </section>

      <!-- Goodbye Card -->
      <section class="p-6 rounded-xl shadow-xl slide-up dynamic-card">
        <div class="max-h-[350px] overflow-y-auto pr-2 space-y-4 fade-in">
          <!-- Header -->
          <div class="flex items-center justify-between">
            <div class="flex items-center space-x-4">
              <img
                src="uploads/default_profile.png"
                alt="User Avatar"
                class="w-10 h-10 rounded-full shadow object-cover"
              />
              <div>
                <p class="text-base dynamic-font username">User123</p>
                <p class="text-sm italic font-bold dynamic-subtext title-type">
                  Final Bow
                </p>
              </div>
            </div>
            <span
              class="text-sm px-2 py-1 rounded-full dynamic-badge theme-type"
              >Dramatic</span
            >
          </div>

          <!-- Interleaved Content Blocks -->
          <div class="space-y-4 mt-4">
            <!-- Message -->
            <div>
              <p
                class="text-lg leading-relaxed italic dynamic-font message-type"
              >
                This is my final bow. The curtain falls not with regret, but
                with gratitude. 💔🎭
              </p>
            </div>

            <!-- Media -->
            <div>
              <div class="rounded-lg overflow-hidden media-type">
                <img
                  src="uploads/default_profile.png"
                  alt="Scene"
                  class="max-w-xs max-h-64 w-auto h-auto object-contain dynamic-media"
                />
              </div>
            </div>

            <!-- Message -->
            <div>
              <p
                class="text-lg leading-relaxed italic dynamic-font message-type"
              >
                Every ending is just a new beginning, wrapped in a whisper of
                silence.
              </p>
            </div>

            <!-- Media -->
            <div>
              <div class="rounded-lg overflow-hidden media-type">
                <img
                  src="uploads/default_profile.png"
                  alt="Scene"
                  class="max-w-xs max-h-64 w-auto h-auto object-contain dynamic-media"
                />
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- Hidden Audio Autoplay -->
    <audio autoplay hidden class="dynamic-audio audio-player">
      <source src="sound/boing-sound.mp3" type="audio/mpeg" />
      Your browser does not support the audio element.
    </audio>

    <!-- Search Modal -->
    <div
      id="searchModal"
      class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden"
    >
      <div
        class="glass p-6 rounded-xl max-w-md w-full relative shadow-xl text-[#2D2B22] dark:text-[#f0e8dc] bg-white dark:bg-[#2a2a2a]"
      >
        <h2 class="text-2xl font-bold mb-4">Choose a Category</h2>
        <form id="searchForm" class="space-y-4">
          <div class="flex flex-col space-y-2">
            <label
              ><input type="radio" name="category" value="Ironic" checked />
              Ironic</label
            >
            <label
              ><input type="radio" name="category" value="Dramatic" />
              Dramatic</label
            >
            <label
              ><input type="radio" name="category" value="Super Cringe" /> Super
              Cringe</label
            >
            <label
              ><input type="radio" name="category" value="Classy" />
              Classy</label
            >
            <label
              ><input type="radio" name="category" value="Passive Aggressive" />
              Passive Aggressive</label
            >
            <label
              ><input type="radio" name="category" value="Honest" />
              Honest</label
            >
          </div>

          <div class="flex justify-between mt-6">
            <button
              type="button"
              id="closeSearchModal"
              class="text-sm text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"
            >
              Cancel
            </button>
            <button
              type="submit"
              class="bg-[#2D2B22] text-[#FAF1E9] dark:bg-[#FAF1E9] dark:text-[#2D2B22] px-4 py-2 rounded hover:bg-[#505101] dark:hover:bg-[#d6d6d6] transition"
            >
              Search →
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Footer -->
    <footer class="text-center p-4 border-t slide-up dynamic-footer">
      © 2025 <span class="font-semibold dynamic-font">TheEnd.page</span>. Write
      it your way.
    </footer>

    <script>
      feather.replace();
    </script>
  </body>
</html>
